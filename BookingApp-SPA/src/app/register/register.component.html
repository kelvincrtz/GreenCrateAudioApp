<form [formGroup]="registerForm" (ngSubmit)="register()">
  <h1 class="text-center">Sign up</h1>
  <hr>

  <div class="form-group">
    <input type="text" 
      [ngClass]="{'is-invalid': registerForm.get('username').errors && registerForm.get('username').touched}" 
      class="form-control" formControlName="username" placeholder="Choose a username">
      <div class="invalid-feedback" 
      *ngIf="registerForm.get('username').hasError('required') && registerForm.get('username').touched">
      Username is required
    </div>
    <div class="invalid-feedback" 
      *ngIf="registerForm.get('username').hasError('minlength') && registerForm.get('username').touched">
      Username must be atleast 5 characters
    </div>
  </div>

  <div class="form-group">
    <input type="text" 
      [ngClass]="{'is-invalid': registerForm.get('fullName').errors && registerForm.get('fullName').touched}" 
      class="form-control" formControlName="fullName" placeholder="Enter Full name">
      <div class="invalid-feedback" 
      *ngIf="registerForm.get('fullName').hasError('required') && registerForm.get('fullName').touched">
      Full name is required
    </div>
  </div>

  <div class="form-group">
    <label for="" class="control-label ml-3" style="margin-right: 10px;">I am a: </label>
    <label for="" class="radio-inline">
      <input type="radio" class="mr-3" value="male" formControlName="gender">Male
    </label>
    <label for="" class="radio-inline ml-3">
      <input type="radio" class="mr-3" value="female" formControlName="gender">Female
    </label>
  </div>

  <div class="form-group">
    <input type="text" bsDatepicker [bsConfig]="bsConfig"
    [ngClass]="{'is-invalid': registerForm.get('dateOfBirth').errors && registerForm.get('dateOfBirth').touched}" 
    class="form-control" formControlName="dateOfBirth" placeholder="Date of Birth">
    <div class="invalid-feedback" 
      *ngIf="registerForm.get('dateOfBirth').hasError('required') && registerForm.get('dateOfBirth').touched">
      Date of Birth is required
    </div>
  </div>

  <div class="form-group">
    <input type="password" 
    [ngClass]="{'is-invalid': registerForm.get('password').errors && registerForm.get('password').touched}" 
    class="form-control" formControlName="password" placeholder="Password">
    <div class="invalid-feedback" 
      *ngIf="registerForm.get('password').hasError('required') && registerForm.get('password').touched">
      Password is required
    </div>
    <div class="invalid-feedback" 
      *ngIf="registerForm.get('password').hasError('minlength') && registerForm.get('password').touched">
      Password must be atleast 8 characters
    </div>
    <div class="invalid-feedback" 
      *ngIf="registerForm.get('password').hasError('maxlength') && registerForm.get('password').touched">
      Password cannot exceed 20 characters
    </div>
  </div>
  
  <div class="form-group">
    <input type="password" 
      [ngClass]="{'is-invalid': registerForm.get('confirmPassword').errors && registerForm.get('confirmPassword').touched
        || registerForm.get('confirmPassword').touched && registerForm.hasError('mismatch')}"   
      class="form-control" formControlName="confirmPassword" placeholder="Confirm password">
      <div class="invalid-feedback" 
      *ngIf="registerForm.get('confirmPassword').hasError('required') && registerForm.get('confirmPassword').touched">
      Password is required
    </div>
    <div class="invalid-feedback" 
    *ngIf="registerForm.hasError('mismatch') && registerForm.get('confirmPassword').touched">
    Passwords must match
  </div>
  </div>

  <div class="form-group text-center">
    <div class="btn-group">
      <button class="btn btn-success" [disabled]="!registerForm.valid" type="submit">Register</button>
      <button class="btn btn-secondary" (click)="cancel()">Cancel</button>
    </div>
  </div>
</form>